{
    "apps": [
        {
            "name": "node-web-production",
            "script": "./build/web.bundle.js",
            "cwd": "./",
            "args": "",
            "interpreter": "",
            "interpreter_args": "",
            "watch": false,
            "ignore_watch": [
                "node_modules",
                "logs",
                "test",
                "build",
                "uploaded"
            ],
            "exec_mode": "cluster",
            "instances": 1,
            "max_memory_restart": "1024M",
            "error_file": "./logs/www/web-err.log",
            "out_file": "./logs/www/web-out.log",
            "merge_logs": true,
            "log_date_format": "YYYY-MM-DD HH:mm:ss",
            "min_uptime": "60s",
            "max_restarts": 1000,
            "force": true,
            "autorestart": true,
            "cron_restart": "",
            "restart_delay": 1000,
            "instance_var": "NODE_APP_INSTANCE",
            "env": {
                "NODE_ENV": "production",
                "PORT": 9100
            }
        },
        {
            "name": "node-api-production",
            "script": "./build/api.bundle.js",
            "cwd": "./",
            "args": "",
            "interpreter": "",
            "interpreter_args": "",
            "watch": false,
            "ignore_watch": [
                "node_modules",
                "logs",
                "test",
                "build",
                "uploaded"
            ],
            "exec_mode": "cluster",
            "instances": 3,
            "max_memory_restart": "1024M",
            "error_file": "./logs/www/api-err.log",
            "out_file": "./logs/www/api-out.log",
            "merge_logs": true,
            "log_date_format": "YYYY-MM-DD HH:mm:ss",
            "min_uptime": "60s",
            "max_restarts": 1000,
            "force": true,
            "autorestart": true,
            "cron_restart": "",
            "restart_delay": 1000,
            "instance_var": "NODE_APP_INSTANCE",
            "env": {
                "NODE_ENV": "production",
                "PORT": 9101
            }
        }
    ],
    "deploy": {
        "production": {
            "user": "wanglei",
            "host": [
                "192.168.31.34"
            ],
            "ref": "origin/master",
            "repo": "https://github.com/debugcode-cn/web-node.git",
            "path": "/home/wanglei/workspace/web-node-test",
            "post-deploy": "npm -v"
        }
    }
}